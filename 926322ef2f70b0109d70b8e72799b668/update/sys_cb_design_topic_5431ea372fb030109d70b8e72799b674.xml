<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="Pos">d0316a732fb030109d70b8e72799b6eb</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"396bdc1651a74662b737caa194bfeb55","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"396bdc1651a74662b737caa194bfeb55"}],"goals":[{"name":"primary","trigger_id":"396bdc1651a74662b737caa194bfeb55","nodes":[{"type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Ho capito che hai problemi con il pos\", vaContext.getRequesterLang())"},"id":"beb9ba7070e44fe48c283a3de95cd72b","name":"Start"},{"type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","mode":"script","value":"(function execute() {\n    /* Return a quoted string.  For example:\n\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessage('hi there {0}', [vaInputs.first_name]);\n       } else {\n           return gs.getMessage('how are you {0}', [vaInputs.last_name]);\n       }\n    */\n    return 'OK, apro un ticket per sostituire il pos {0}', [vaInputs.terminal_id];\n})()\n"},"id":"f469a9773a714bc29c3a1c6f47dc81be","name":"End"},{"type":"InputPrompt","variable_id":"ec6c270d5a584317b2c8fa30312aec89","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Scrivi il codice del pos\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","mode":"script","value":"false"},"id":"914bcbf038f94a4ea20b41b1cb60b125","name":"terminal_id","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"terminal_id corretto","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n\n    return true;\n})()\n"},"id":"570862251b1e48aab1dd109f1acd6d9e","name":"terminal_id corretto"},{"type":"Branch","label":"terminal_id non corretto","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n        if (vaInputs.terminal_id.length != 8 || isNaN(vaInputs.terminal_id)){\n            return true;\n        }\n        else {\n            return false;\n        }\n    \n})()\n"},"id":"994a228a5c6a4d5c8588b5a3cef4989b","name":"terminal_id non corretto"}],"id":"b1cb49d0774c4aaea3496abd832b1b9f","goal_id":"primary"},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Il codice terminale non e' corretto. Riprova\", vaContext.getRequesterLang())"},"id":"37ded155913849b8a34120b20e2458f4","name":"terminal_id non corretto","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"secure":false}],"edges":[{"type":"Edge","source_node_id":"beb9ba7070e44fe48c283a3de95cd72b","target_node_id":"914bcbf038f94a4ea20b41b1cb60b125","id":"9f372b7007eb46879b3bf1cf59a4b2c2"},{"type":"Edge","source_node_id":"914bcbf038f94a4ea20b41b1cb60b125","target_node_id":"b1cb49d0774c4aaea3496abd832b1b9f","id":"8f4ccf17118d420e973460e51551f951"},{"type":"Edge","source_node_id":"b1cb49d0774c4aaea3496abd832b1b9f","target_node_id":"f469a9773a714bc29c3a1c6f47dc81be","branch_id":"570862251b1e48aab1dd109f1acd6d9e","id":"87970fb908ee4261b21a9d30102ba14a","name":"570862251b1e48aab1dd109f1acd6d9e"},{"type":"Edge","source_node_id":"b1cb49d0774c4aaea3496abd832b1b9f","target_node_id":"37ded155913849b8a34120b20e2458f4","branch_id":"994a228a5c6a4d5c8588b5a3cef4989b","id":"076b9f21c0fb45c2b861ef39f8d5f3ce","name":"994a228a5c6a4d5c8588b5a3cef4989b"},{"type":"Edge","source_node_id":"37ded155913849b8a34120b20e2458f4","target_node_id":"914bcbf038f94a4ea20b41b1cb60b125","id":"6f7ed867116c46d0bdbaa229811b022b"}],"id":"primary"}],"script_variables":[{"type":"String","name":"LiveAgent_application","value":{"type":"String","mode":"string"},"id":"83af2b88bd5640109758432d4757562a","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false},{"type":"String","name":"terminal_id","id":"ec6c270d5a584317b2c8fa30312aec89","formatType":"Text","validationScript":"","secure":false,"sensitive":false}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"926322ef2f70b0109d70b8e72799b668","domain":"global","topic_type":"STANDARD","channels":[],"id":"cf69defb2f7030109d70b8e72799b6de","name":"_PRVW__0c316a7328b03010bb32e798ced8b3e9","key_phrases":["Pos"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"design_categories":[{"name":null,"visible":false,"sysId":"19b3ee632fb0b0109d70b8e72799b6fc"}],"triggerable_by_notification":false,"auto_resolution_enabled":false,"library":false,"nluMapping":"[]"}</design_definition>
        <design_topic_id>cf69defb2f7030109d70b8e72799b6de</design_topic_id>
        <name>_PRVW__0c316a7328b03010bb32e798ced8b3e9</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-06-24 09:40:29</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>5431ea372fb030109d70b8e72799b674</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="Virtual Agent" source="x_656484_virtual_a">926322ef2f70b0109d70b8e72799b668</sys_package>
        <sys_policy/>
        <sys_scope display_value="Virtual Agent">926322ef2f70b0109d70b8e72799b668</sys_scope>
        <sys_update_name>sys_cb_design_topic_5431ea372fb030109d70b8e72799b674</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-06-24 09:40:29</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
